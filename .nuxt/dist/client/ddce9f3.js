(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{397:function(t,e,n){"use strict";n.r(e);var o=n(3),r=(n(46),n(11),{methods:{setEmail:function(t){this.email=t.target.value},setPassword:function(t){this.password=t.target.value},login:function(t){t.preventDefault(),fetch("https://api.cheparo.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}).then(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var body;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.ok){t.next=8;break}return t.next=3,e.json();case 3:body=t.sent,localStorage.setItem("user",JSON.stringify(body)),window.location="/",t.next=9;break;case 8:throw"Incorrect Login Details";case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){alert(t)}))}},mounted:function(){localStorage.getItem("user")&&(window.location="/my-account")}}),c=r,l=n(16),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-form"},[e("form",{on:{submit:t.login}},[e("input",{attrs:{type:"email",name:"user-name",placeholder:"Username"},on:{change:t.setEmail}}),t._v(" "),e("input",{attrs:{type:"password",name:"user-password",placeholder:"Password"},on:{change:t.setPassword}}),t._v(" "),t._m(0)])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"button-box"},[e("div",{staticClass:"login-toggle-btn"},[e("input",{attrs:{type:"checkbox"}}),t._v(" "),e("label",[t._v("Remember me")])]),t._v(" "),e("button",{attrs:{type:"submit"}},[t._v("Login")])])}],!1,null,null,null);e.default=component.exports}}]);